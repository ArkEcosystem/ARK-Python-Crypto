from crypto.transactions.deserializer import Deserializer


def test_timelock_transfer_deserializer():
    serialized = 'ff02170100000008000000000000000000034151a3ec46b5670a682b0a63394f863587d1bc97483b1b6c70eb58e7f0aed19280969800000000002174686973206973206120746f70207365637265742076656e646f72206669656c6400c2eb0b000000000f128d401958b1b30ad0d10406f47f9489321017b4614e6cb993fc63913c5454016253c55d170995750207ecaf0ccf251c1265b92ad84f553662e9d69dbdd03562886b1934968ac25e90b81d32a19c2e1ed3650568534afdb30e130dbaf18d1014edae1c8fe6f35b713e45fae48e9efeb201c63c4330d08bd413'  # noqa
    deserializer = Deserializer(serialized)
    actual = deserializer.deserialize()
    assert actual.asset['lock']['secretHash'] == '0f128d401958b1b30ad0d10406f47f9489321017b4614e6cb993fc63913c5454'  # noqa
    actual.verify()
